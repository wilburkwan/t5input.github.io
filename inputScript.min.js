const _0x9421=['setSelectionRange','<tr\x20id=\x22phrase-','<tr><td\x20colspan=\x223\x22>未找到相應的詞語。</td></tr>','無法複製文字:\x20','nextBtn','\x22\x20onclick=\x22selectPunctuation(\x27','preventDefault','punctuation.txt','td:nth-child(2)','</td><td>','strokes','char','then','input','punctuation','error','Backspace','ctrlKey','appendChild','</td><td\x20colspan=\x222\x22>','textContent','join','sort','toLowerCase','from','button','startsWith','DOMContentLoaded','split','\x27)\x22><td>','getElementById','querySelector','clipboard','innerHTML','writeText','strokeData','\x27,\x20','Output','text','code','replace','trim','characters','Enter','key','value','includes','catch','addEventListener','push','<tr\x20id=\x22char-','forEach','length','keydown','checkInput','onclick',')\x22><td>','strokeInput','slice','phrases'];const _0xe704=function(_0x942100,_0xe704e4){_0x942100=_0x942100-0x0;let _0x4be212=_0x9421[_0x942100];return _0x4be212;};let ranking={};let currentCharacters=[];let currentPage=0x0;let itemsPerPage=0x9;let phrases={};let currentPhrases=[];let selectedChar='';let punctuation=[];let punctuationPage=0x0;let phrasePage=0x0;let currentDisplayType='characters';function copyToClipboard(){var _0x2f656e=document['getElementById']('Output');_0x2f656e['select']();_0x2f656e[_0xe704('0x0')](0x0,0x1869f);navigator[_0xe704('0x20')][_0xe704('0x22')](_0x2f656e['value'])[_0xe704('0xc')](function(){},function(_0x6405ef){alert(_0xe704('0x3'),_0x6405ef);});}function findCharacters(){const _0x19ea0a=document['getElementById'](_0xe704('0x39'))['value']['trim']()[_0xe704('0x17')]();document['getElementById'](_0xe704('0x39'))[_0xe704('0x2d')]=_0x19ea0a;displayStrokeCode(_0x19ea0a);if(!_0x19ea0a){updateDisplay([]);return;}let _0x19dee9=[];for(const [_0x4e6e96,_0x12cd68]of Object['entries'](window['strokeData'])){if(_0x4e6e96['startsWith'](_0x19ea0a)){_0x12cd68[_0xe704('0x33')](_0x165f22=>{_0x19dee9['push']({'strokes':_0x4e6e96,'char':_0x165f22});});}}_0x19dee9[_0xe704('0x16')]((_0x2230a6,_0x59607d)=>{const _0x5e5704=_0x2230a6[_0xe704('0xa')][_0xe704('0x34')]-_0x59607d[_0xe704('0xa')][_0xe704('0x34')];if(_0x5e5704!==0x0){return _0x5e5704;}return(ranking[_0x2230a6['char']]||Infinity)-(ranking[_0x59607d[_0xe704('0xb')]]||Infinity);});const _0x37fafe=[..._0x19dee9['slice'](0x0,0x2)[_0xe704('0x16')]((_0x571816,_0xf4a460)=>_0x571816[_0xe704('0xa')]['length']-_0xf4a460['strokes'][_0xe704('0x34')]),..._0x19dee9[_0xe704('0x3a')](0x2)[_0xe704('0x16')]((_0x6fe224,_0x4d769d)=>(ranking[_0x6fe224['char']]||Infinity)-(ranking[_0x4d769d['char']]||Infinity))];currentCharacters=_0x37fafe;currentPage=0x0;currentDisplayType=_0xe704('0x2a');updateDisplay(currentCharacters);}document['getElementById']('Output')['addEventListener'](_0xe704('0x35'),function(_0x597d86){const _0x29d67a=document['getElementById']('strokeInput');const _0xfb4a50={'Numpad7':'u','Numpad8':'i','Numpad9':'o','Numpad4':'j','Numpad5':'k'};if(['u','i','o','j','k','U','I','O','J','K'][_0xe704('0x2e')](_0x597d86[_0xe704('0x2c')])){_0x597d86['preventDefault']();_0x29d67a['value']+=_0x597d86[_0xe704('0x2c')][_0xe704('0x17')]();findCharacters();}else if(_0x597d86[_0xe704('0x2c')]===_0xe704('0x10')){_0x597d86['preventDefault']();if(_0x29d67a['value']){_0x29d67a['value']=_0x29d67a['value'][_0xe704('0x3a')](0x0,-0x1);findCharacters();}else{this[_0xe704('0x2d')]=this['value'][_0xe704('0x3a')](0x0,-0x1);}}else if(_0xfb4a50[_0x597d86[_0xe704('0x27')]]){_0x597d86[_0xe704('0x6')]();_0x29d67a['value']+=_0xfb4a50[_0x597d86['code']];findCharacters();}else if(/[a-zA-Z]/['test'](_0x597d86[_0xe704('0x2c')])&&!_0x597d86['ctrlKey']){_0x597d86['preventDefault']();}});document['addEventListener'](_0xe704('0x1b'),function(){loadRanking();fetch('database.txt')['then'](_0xac3fd9=>_0xac3fd9['text']())['then'](_0x3186de=>{window[_0xe704('0x23')]=parseData(_0x3186de);})[_0xe704('0x2f')](_0x1cf909=>{console[_0xe704('0xf')]('Failed\x20to\x20fetch\x20stroke\x20data:',_0x1cf909);});loadPhrases();loadPunctuation();document['getElementById'](_0xe704('0x39'))['addEventListener'](_0xe704('0xd'),function(_0x143101){this['value']=this[_0xe704('0x2d')]['replace'](/[^uijokUIJOK78945]/g,'');this[_0xe704('0x2d')]=this['value'][_0xe704('0x17')]();this[_0xe704('0x2d')]=this[_0xe704('0x2d')][_0xe704('0x28')](/7/g,'u')['replace'](/8/g,'i')['replace'](/9/g,'o')['replace'](/4/g,'j')['replace'](/5/g,'k');findCharacters();});document['addEventListener']('keydown',function(_0x35aca9){if(_0x35aca9['code'][_0xe704('0x1a')]('Digit')&&_0x35aca9['key']>='1'&&_0x35aca9[_0xe704('0x2c')]<='9'){_0x35aca9[_0xe704('0x6')]();const _0x56fc93=parseInt(_0x35aca9[_0xe704('0x2c')],0xa);const _0x19b7ff=document[_0xe704('0x1f')]('#char-'+_0x56fc93);if(_0x19b7ff){const _0x51f7b0=_0x19b7ff['querySelector']('td:nth-child(2)')[_0xe704('0x14')]['trim']();selectCharacter(_0x51f7b0,_0x56fc93);}else{const _0x5b559a=document['querySelector']('#phrase-'+_0x56fc93);if(_0x5b559a){const _0x1aafda=_0x5b559a[_0xe704('0x1f')]('td:nth-child(2)')['textContent']['trim']();selectPhrase(_0x1aafda);}else{const _0x33bae8=document['querySelector']('#punctuation-'+_0x56fc93);if(_0x33bae8){const _0x43195e=_0x33bae8[_0xe704('0x1f')](_0xe704('0x8'))[_0xe704('0x14')]['trim']();selectPunctuation(_0x43195e);}}}}else if(_0x35aca9['key']==='\x20'){_0x35aca9['preventDefault']();if(currentDisplayType===_0xe704('0x2a')){nextPage();}else if(currentDisplayType==='phrases'){nextPage();}else if(currentDisplayType==='punctuation'){nextPage();}}else if(_0x35aca9['key']==='m'){_0x35aca9['preventDefault']();punctuationPage=0x0;currentDisplayType=_0xe704('0xe');displayPunctuation();}else if(_0x35aca9['key']===','){_0x35aca9['preventDefault']();const _0x4e48c7=document[_0xe704('0x1e')](_0xe704('0x25'));_0x4e48c7[_0xe704('0x2d')]+='，';}else if(_0x35aca9['key']==='.'){_0x35aca9[_0xe704('0x6')]();const _0x47cf05=document[_0xe704('0x1e')]('Output');_0x47cf05[_0xe704('0x2d')]+='。';}else if(_0x35aca9['key']==='<'){_0x35aca9['preventDefault']();const _0x532fb2=document[_0xe704('0x1e')](_0xe704('0x25'));_0x532fb2[_0xe704('0x2d')]+='《';}else if(_0x35aca9[_0xe704('0x2c')]==='>'){_0x35aca9['preventDefault']();const _0x4ff508=document['getElementById'](_0xe704('0x25'));_0x4ff508['value']+='》';}else if(_0x35aca9['key']==='/'){_0x35aca9[_0xe704('0x6')]();const _0x1f8c0c=document['getElementById'](_0xe704('0x25'));_0x1f8c0c['value']+='／';}else if(_0x35aca9[_0xe704('0x2c')]==='?'){_0x35aca9[_0xe704('0x6')]();const _0xd1a1d6=document[_0xe704('0x1e')]('Output');_0xd1a1d6[_0xe704('0x2d')]+='？';}else if(_0x35aca9[_0xe704('0x2c')]===';'){_0x35aca9['preventDefault']();const _0x2e8b96=document[_0xe704('0x1e')]('Output');_0x2e8b96['value']+='；';}else if(_0x35aca9[_0xe704('0x2c')]===':'){_0x35aca9['preventDefault']();const _0x45a6c1=document[_0xe704('0x1e')]('Output');_0x45a6c1['value']+='：';}else if(_0x35aca9[_0xe704('0x2c')]==='\x27'){_0x35aca9['preventDefault']();const _0x359149=document[_0xe704('0x1e')]('Output');_0x359149['value']+='、';}else if(_0x35aca9['key']==='\x22'){_0x35aca9['preventDefault']();const _0x29f43b=document[_0xe704('0x1e')]('Output');_0x29f43b[_0xe704('0x2d')]+='＂';}else if(_0x35aca9[_0xe704('0x2c')]==='['){_0x35aca9['preventDefault']();const _0x430c22=document[_0xe704('0x1e')]('Output');_0x430c22['value']+='「';}else if(_0x35aca9[_0xe704('0x2c')]==='{'){_0x35aca9['preventDefault']();const _0x599137=document['getElementById'](_0xe704('0x25'));_0x599137['value']+='『';}else if(_0x35aca9['key']===']'){_0x35aca9[_0xe704('0x6')]();const _0x203954=document['getElementById'](_0xe704('0x25'));_0x203954[_0xe704('0x2d')]+='」';}else if(_0x35aca9[_0xe704('0x2c')]==='}'){_0x35aca9['preventDefault']();const _0x2149b8=document[_0xe704('0x1e')](_0xe704('0x25'));_0x2149b8[_0xe704('0x2d')]+='』';}else if(_0x35aca9['key']==='\x5c'){_0x35aca9[_0xe704('0x6')]();const _0x25a4c0=document['getElementById']('Output');_0x25a4c0['value']+='＼';}else if(_0x35aca9['key']==='|'){_0x35aca9[_0xe704('0x6')]();const _0x1ab44b=document[_0xe704('0x1e')](_0xe704('0x25'));_0x1ab44b[_0xe704('0x2d')]+='｜';}else if(_0x35aca9['key']===_0xe704('0x2b')){_0x35aca9['preventDefault']();const _0x2b6f00=document[_0xe704('0x1e')]('Output');_0x2b6f00['value']+='\x0a';}});const _0x2ddb74=document['querySelector']('.button-container');const _0x20b7f1=document['createElement']('button');_0x20b7f1[_0xe704('0x14')]='上一頁';_0x20b7f1['id']='prevBtn';_0x20b7f1[_0xe704('0x37')]=previousPage;_0x2ddb74[_0xe704('0x12')](_0x20b7f1);const _0x28ba78=document['createElement'](_0xe704('0x19'));_0x28ba78['textContent']='下一頁';_0x28ba78['id']=_0xe704('0x4');_0x28ba78[_0xe704('0x37')]=nextPage;_0x2ddb74['appendChild'](_0x28ba78);});function loadRanking(){fetch('ranking-traditional.txt')['then'](_0x1b1414=>_0x1b1414['text']())[_0xe704('0xc')](_0x164795=>{const _0x5c9639=_0x164795[_0xe704('0x1c')]('\x0a');let _0x38e08e=0x0;_0x5c9639['forEach'](_0x529001=>{if(_0x529001[_0xe704('0x29')]()&&!_0x529001['startsWith']('#')){Array[_0xe704('0x18')](_0x529001)[_0xe704('0x33')](_0x3f468c=>{if(!ranking[_0x3f468c]){ranking[_0x3f468c]=_0x38e08e++;}});}});});}function parseData(_0x4587fe){const _0x1598a1=_0x4587fe['split']('\x0a');const _0x332cc0={};_0x1598a1[_0xe704('0x33')](_0x2e5352=>{if(_0x2e5352['trim']()&&!_0x2e5352['startsWith']('#')&&_0x2e5352[_0xe704('0x2e')]('\x09')){const _0x1b6eba=_0x2e5352['split']('\x09');const _0x132884=_0x1b6eba[0x0]['trim']();const _0x495b88=_0x1b6eba[0x1][_0xe704('0x29')]();if(!_0x332cc0[_0x495b88]){_0x332cc0[_0x495b88]=[];}_0x332cc0[_0x495b88][_0xe704('0x31')](_0x132884);}});return _0x332cc0;}function loadPhrases(){fetch('phrases-traditional.txt')['then'](_0x18cbd1=>_0x18cbd1['text']())[_0xe704('0xc')](_0x52e6d3=>{const _0x4b036b=_0x52e6d3[_0xe704('0x1c')]('\x0a');_0x4b036b['forEach'](_0x2a59df=>{if(_0x2a59df['trim']()&&!_0x2a59df[_0xe704('0x1a')]('#')){const _0x1cd8ce=_0x2a59df[0x0];if(!phrases[_0x1cd8ce]){phrases[_0x1cd8ce]=[];}phrases[_0x1cd8ce]['push'](_0x2a59df[_0xe704('0x29')]());}});});}function loadPunctuation(){fetch(_0xe704('0x7'))['then'](_0x521d5c=>_0x521d5c[_0xe704('0x26')]())[_0xe704('0xc')](_0x26ea3b=>{const _0x496e1a=_0x26ea3b['split']('\x0a');_0x496e1a[_0xe704('0x33')](_0x122ac6=>{if(_0x122ac6[_0xe704('0x29')]()&&!_0x122ac6['startsWith']('#')){punctuation[_0xe704('0x31')](_0x122ac6['trim']());}});});}const mappings={'u':'一','i':'丨','o':'丿','j':'丶','k':'フ'};function displayStrokeCode(_0x2b4e37){const _0x2bc191=document['getElementById'](_0xe704('0x36'));let _0x404312='';for(let _0x1ea595 of _0x2b4e37){if(mappings[_0x1ea595]){_0x404312+=mappings[_0x1ea595];}}_0x2bc191[_0xe704('0x2d')]=_0x404312;}function updateDisplay(_0xeae695){const _0x243029=document[_0xe704('0x1e')]('results');_0x243029['innerHTML']='';const _0x3acc31=_0xeae695['slice'](currentPage*itemsPerPage,(currentPage+0x1)*itemsPerPage);if(_0x3acc31['length']===0x0){_0x243029['innerHTML']='<tr><td\x20colspan=\x223\x22>未找到相應的漢字。</td></tr>';return;}_0x3acc31['forEach']((_0x2aa0b3,_0x1d89bd)=>{const _0x1a921b=_0x2aa0b3['strokes']['split']('')['map'](_0x2a95e3=>mappings[_0x2a95e3]||_0x2a95e3)[_0xe704('0x15')]('');_0x243029['innerHTML']+=_0xe704('0x32')+(_0x1d89bd+0x1)+'\x22\x20onclick=\x22selectCharacter(\x27'+_0x2aa0b3[_0xe704('0xb')]+_0xe704('0x24')+(_0x1d89bd+0x1)+_0xe704('0x38')+(_0x1d89bd+0x1)+_0xe704('0x9')+_0x2aa0b3['char']+_0xe704('0x9')+_0x1a921b+'</td></tr>';});}function displayPunctuation(){const _0x126a9e=document[_0xe704('0x1e')]('results');_0x126a9e[_0xe704('0x21')]='';const _0x7867c9=punctuation[_0xe704('0x3a')](punctuationPage*itemsPerPage,(punctuationPage+0x1)*itemsPerPage);if(_0x7867c9[_0xe704('0x34')]===0x0){_0x126a9e[_0xe704('0x21')]='<tr><td\x20colspan=\x223\x22>未找到相應的標點符號。</td></tr>';return;}_0x7867c9['forEach']((_0x48ea28,_0x447b59)=>{_0x126a9e['innerHTML']+='<tr\x20id=\x22punctuation-'+(_0x447b59+0x1)+_0xe704('0x5')+_0x48ea28+_0xe704('0x1d')+(_0x447b59+0x1)+_0xe704('0x13')+_0x48ea28+'</td></tr>';});}function selectCharacter(_0x812b23,_0x446b49){selectedChar=_0x812b23;const _0x4f271a=document['getElementById']('Output');_0x4f271a[_0xe704('0x2d')]+=_0x812b23;document[_0xe704('0x1e')]('strokeInput')[_0xe704('0x2d')]='';currentPhrases=phrases[_0x812b23]||[];phrasePage=0x0;currentDisplayType=_0xe704('0x3b');displayPhrases();}function selectPunctuation(_0x5121bb){const _0x204c08=document[_0xe704('0x1e')](_0xe704('0x25'));_0x204c08['value']+=_0x5121bb;}function displayPhrases(){const _0x45ae4d=document['getElementById']('results');_0x45ae4d['innerHTML']='';const _0x17e779=currentPhrases['slice'](phrasePage*itemsPerPage,(phrasePage+0x1)*itemsPerPage);if(_0x17e779['length']===0x0){_0x45ae4d['innerHTML']=_0xe704('0x2');return;}_0x17e779['forEach']((_0x48568b,_0x557920)=>{_0x45ae4d[_0xe704('0x21')]+=_0xe704('0x1')+(_0x557920+0x1)+'\x22\x20onclick=\x22selectPhrase(\x27'+_0x48568b+'\x27)\x22><td>'+(_0x557920+0x1)+'</td><td\x20colspan=\x222\x22>'+_0x48568b+'</td></tr>';});}function selectPhrase(_0x572e85){const _0x2d2970=document[_0xe704('0x1e')](_0xe704('0x25'));_0x2d2970[_0xe704('0x2d')]=_0x2d2970[_0xe704('0x2d')][_0xe704('0x3a')](0x0,-0x1)+_0x572e85;document[_0xe704('0x1e')]('strokeInput')[_0xe704('0x2d')]='';findCharacters();}function previousPage(){if(currentDisplayType==='phrases'&&phrasePage>0x0){phrasePage--;displayPhrases();}else if(currentDisplayType==='characters'&&currentPage>0x0){currentPage--;updateDisplay(currentCharacters);}else if(currentDisplayType==='punctuation'&&punctuationPage>0x0){punctuationPage--;displayPunctuation();}}function nextPage(){if(currentDisplayType==='phrases'){phrasePage++;if(phrasePage*itemsPerPage>=currentPhrases['length']){phrasePage=0x0;}displayPhrases();}else if(currentDisplayType==='characters'){currentPage++;if(currentPage*itemsPerPage>=currentCharacters[_0xe704('0x34')]){currentPage=0x0;}updateDisplay(currentCharacters);}else if(currentDisplayType===_0xe704('0xe')){punctuationPage++;if(punctuationPage*itemsPerPage>=punctuation[_0xe704('0x34')]){punctuationPage=0x0;}displayPunctuation();}}document[_0xe704('0x30')]('keydown',function(_0x39da14){if(_0x39da14[_0xe704('0x11')]&&_0x39da14[_0xe704('0x2c')]==='c'){copyToClipboard();}});